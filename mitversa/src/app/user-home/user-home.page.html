<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Rastreador de Envíos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="header-container">
    <h1>Rastrea tu pedido</h1>
    <p>Ingresa tu n° de orden</p>
  </div>

  <div class="form-container">
    <form (ngSubmit)="onSubmit()">
      <ion-item class="custom-input">
        <ion-label position="floating">Número de Seguimiento</ion-label>
        <ion-input [(ngModel)]="trackingNumber" name="trackingNumber" required></ion-input>
      </ion-item>
      <ion-button expand="full" class="track-button" type="submit">Rastrear</ion-button>
    </form>
  </div>

  <div class="status-container" *ngIf="currentStatus">
    <h2>Estado del Envío:</h2>
    <div class="status-card" [ngClass]="{'not-found': currentStatus === 'No encontrado'}">
      <ion-icon class="status-icon" [name]="getStatusIcon(currentStatus)"></ion-icon>
      <h3>{{ currentStatus }}</h3>
    </div>

    <div class="timeline" *ngIf="shipmentFound">
      <ng-container *ngFor="let step of steps; let i = index">
        <div class="timeline-item" [ngClass]="{'active': isStepActive(step)}">
          <div class="timeline-icon">
            <ion-icon [name]="step.icon"></ion-icon>
          </div>
          <div class="timeline-content">
            <h4>{{ step.status }}</h4>
            <p>{{ step.date }}</p>
          </div>
          <div class="timeline-line" *ngIf="i < steps.length - 1"></div>
        </div>
      </ng-container>
    </div>
  </div>
</ion-content>